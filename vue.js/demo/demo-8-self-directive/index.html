<!DOCTYPE html>
<html>

<head>
    <title>demo</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta content="telephone=no" name="format-detection" />
    <link rel="stylesheet" type="text/css" href="../../css/normalize.css">
    <link rel="stylesheet" type="text/css" href="../../css/style.css" />
</head>

<body>
    <div class="container">
        <div id="demo">
            <p>Vue.js 允许你注册自定义指令，实质上是让你教 Vue 一些新技巧：怎样将数据的变化映射到 DOM 的行为。你可以使用 Vue.directive(id, definition) 的方法传入指令id和定义对象来注册一个全局自定义指令。定义对象需要提供一些钩子函数（全部可选）</p>
            <ul>
                <li>
                    bind: 仅调用一次，当指令第一次绑定元素的时候。</li>
                <li>
                    update: 第一次是紧跟在 bind 之后调用，获得的参数是绑定的初始值；以后每当绑定的值发生变化就会被调用，获得新值与旧值两个参数。
                </li>
                <li>
                    unbind：仅调用一次，当指令解绑元素的时候。
                </li>
                </li>
            </ul>
            <p>一旦注册好自定义指令，你就可以在 Vue.js 模板中像这样来使用它（需要添加 Vue.js 的指令前缀，默认为 v-）：
                <br/>v-my-directive="someValue"</p>
            <p>如果你只需要 update 函数，你可以只传入一个函数，而不用传定义对象：
                <br/>Vue.directive('my-directive', function (value) {}</p>
            <p>所有的钩子函数会被复制到实际的指令对象中，而这个指令对象将会是所有钩子函数的 this上下文环境。指令对象上暴露了一些有用的公开属性：</p>
            <ul>
                <li><strong>el</strong>: 指令绑定的元素</li>
                <li><strong>vm</strong>: 拥有该指令的上下文 ViewModel</li>
                <li><strong>arg</strong>: 指令的参数</li>
                <li><strong>expression</strong>: 指令的表达式，不包括参数和过滤器</li>
                <li><strong>raw</strong>: 未被解析的原始表达式</li>
                <li><strong>name</strong>: 不带前缀的指令名</li>
            </ul>
            <div v-demo="LightSlateGray : msg"></div>
        </div>
    </div>
    <script type="text/javascript" src="../../js/vue.js"></script>
    <script type="text/javascript" src="./common.js"></script>
</body>

</html>
